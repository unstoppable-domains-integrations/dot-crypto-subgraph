type Domain @entity {
  id: ID! # The namehash of domain
  name: String # The human readable name
  owner: Account!
  resolver: Resolver
  createdAt: BigInt!
}

type Account @entity {
  id: ID!
  domains: [Domain!]! @derivedFrom(field: "owner")
}

type Resolver @entity {
  id: ID! # Concatenation of resolver address and namehash
  domain: Domain
  address: Bytes! # Address of resolver contract
  records: [Record!] # Set of record keys
}

type Record @entity {
  id: ID! # Concatenation of namehash and key
  key: String!
  value: String!
}
